import Content from '/snippets/Reuse/ZIM_BasicPrerequisites_AppSign-en.md'
import Content1 from '/snippets/Reuse/ZIM_AppSign-en.md'
import Content2 from '/snippets/Reuse/ZIMSampleAppIntro-en.md'

# Sample app

<Content2 />

## Prepare the enviroment

* Xcode 7.0 or later.
* An iOS device or iOS Simulator that is running on iOS 11.0 or later and supports audio and video. We recommend you use a real device.
* The iOS device is connected to the internet.

## Prerequisites

<Content />
<Content1 />

## Get the sample code

<Card title="Sample Code" href="https://storage.zego.im/zim/example/ios/ZIMExampleLegacy.zip" target="_blank">Click here to get the complete sample code.</Card>

The following structure shows the subdirectory structure of the sample code:


```bash
...
├── ZIMExampleDemo
│   ├── AppDelegate.h
│   ├── AppDelegate.mm
│   ├── Assets.xcassets
│   ├── Base.lproj
│   ├── CallInvite          
│   ├── ConversationList     
│   ├── Group               
│   ├── GroupList           
│   ├── Info.plist
│   ├── Login                
│   ├── Peer                 # One-to-one chat codes
│   ├── Room                 
│   ├── StartViewController.h
│   ├── StartViewController.m
│   ├── User                 
│   ├── VideoPlayer.xib
│   ├── ZIMExampleDemo.entitlements
│   ├── ZIMManager           # ZIM Instance
│   │   ├── KeyCenter
│   │   │   ├── KeyCenter.h
│   │   │   └── KeyCenter.m  # Fill in AppID and AppSign in here
│   │   ├── ...
│   ├── en.lproj
│   ├── main.m
│   └── zh-Hans.lproj
├── ZIMExampleDemo.xcodeproj
│   ├── project.pbxproj
│   ├── project.xcworkspace
│   ├── xcshareddata
│   └── xcuserdata
├── ZIMExampleDemo.xcworkspace
│   ├── contents.xcworkspacedata
│   ├── xcshareddata
│   └── xcuserdata
├── callSound.caf           # Voice resource for ringtone customization
└── libs
    ├── ZIM.xcframework     # ZIM SDK. You can replace it with the latest version
    └── ZPNs.xcframework    # ZPNs SDK. You can replace it with the latest version
```

## Run the sample code

1. Open AppStore to download the Xcode.

    <Frame width="512" height="auto" caption="">
        <img src="https://storage.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/appstore-xcode.png" />
    </Frame>

2. In Xcode, select the **File > Open**, open the `ZIMExampleDemo.xcworkspace` file in the extracted sample code package. 

    <Frame width="512" height="auto" caption="">
        <img src="https://storage.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/xcode-open-file.png" />
    </Frame>

3. In Xcode, select the **Preferences**, click the **Accounts** tab, click the **+** button, then select **Apple ID**, and click **Continue**. 

    <Frame width="512" height="auto" caption="">
        <img src="https://storage.zego.im/sdk-doc/Pics/ZIM/iOS/xcode_preferences.png" />
    </Frame>

4. Enter your Apple ID and Password to log in.

    <Frame width="512" height="auto" caption="">
        <img src="https://storage.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/xcode-login-apple-id.png" />
    </Frame>

5. Modify the `Bundle Identifier` and certificate. 

    1. In Xcode, Select the `ZIMExampleDemo` project.
    
        <Frame width="512" height="auto" caption="">
            <img src="https://storage.zego.im/sdk-doc/Pics/ZIM/iOS/xcode_select_project_new.png" />
        </Frame>

    2. Select the target project, click the **Signing & Capabilities** tab, change the `Bundle Identifier` configuration and select your own developer certificate in the **Team**.

        <Frame width="512" height="auto" caption="">
            <img src="https://storage.zego.im/sdk-doc/Pics/ZIM/iOS/team_signing_new.png" />
        </Frame>

6. The sample app is lack of the AppID and AppSign required for SDK initialization. Please fill in the "/ZIMExampleDemo/ZIMExampleDemo/ZIMManager/KeyCenter/KeyCenter.m" file with the AppID and AppSign that you get in the **Prerequisites** step.  

    <Frame width="512" height="auto" caption="">
        <img src="https://storage.zego.im/sdk-doc/Pics/ZIM/iOS/iOS_KeyCenter.jpg" />
    </Frame>

7. Connect the iOS device to your computer, and select the iOS device in Xcode. 

    <Frame width="512" height="auto" caption="">
        <img src="https://storage.zego.im/sdk-doc/Pics/ZIM/iOS/xcode_select_device.png" />
    </Frame>

8. Click the **Build** button to run the sample code and experience the In-app Chat service. 

    <Frame width="512" height="auto" caption="">
        <img src="https://storage.zego.im/sdk-doc/Pics/ZIM/iOS/build_and_run.png" />
    </Frame>

