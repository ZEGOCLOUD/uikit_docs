---
articleID: 17185
---

# Delete all friends

- - -


## Overview

You can call this operation to delete all friends for a user in a one-way or two-way manner.

In this example, one-way deletion and two-way deletion are explained.
- One-way deletion: If user A deletes user B in a one-way manner, user B is no longer a friend of user A, but not vice versa.
- Two-way deletion: If user A deletes user B in a two-way manner, they are no longer friends with each other.

After friends are deleted, the client of the user receives the friend list update notification in the following ZIM SDK callbacksï¼š

<table>
<tbody><tr>
<th>iOS</th>
<th>Android</th>
<th>macOS</th>
<th>Windows</th>
</tr>
<tr>
<td><a href="/article/api?doc=zim_API~objective-c_ios~protocol~ZIMEventHandler#zim-friend-list-changed-friend-info-list" target="_blank" rel="noreferrer noopenner">friendListChanged</a></td>
<td><a href="/article/api?doc=zim_API~java_android~class~ZIMEventHandler#on-friend-list-changed" target="_blank" rel="noreferrer noopenner">onFriendListChanged</a></td>
<td><a href="/article/api?doc=zim_API~objective-c_macos~protocol~ZIMEventHandler#zim-friend-list-changed-friend-info-list" target="_blank" rel="noreferrer noopenner">friendListChanged</a></td>
<td><a href="/article/api?doc=zim_API~cpp_windows~class~ZIMEventHandler#on-friend-list-changed" target="_blank" rel="noreferrer noopenner">onFriendListChanged</a></td>
</tr>
<tr>
<th>Web</th>
<th>Flutter</th>
<th>React Native</th> 
<th></th>
<th></th>
<th></th>
</tr>
<tr>
<td><a href="/article/api?doc=zim_API~javascript_web~interface~ZIMEventHandler#friend-list-changed" target="_blank" rel="noreferrer noopenner">friendListChanged</a></td>
<td><a href="https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler/onFriendListChanged.html" target="_blank" rel="noreferrer noopenner">onFriendListChanged</a></td>
<td><a href="/article/api?doc=zim_API~javascript_react-native~interface~ZIMEventHandler#friend-list-changed" target="_blank" rel="noreferrer noopenner">friendListChanged</a></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>



## Operation prototype

- Request method: GET
- Request URL: https://zim-api.zego.im/?Action=DeleteAllFriends
- Protocol: HTTPS
- QPS limit: 20 calls per second

## Request parameters

The following table describes only the operation-specific request parameters and some common request parameters. For the complete list of common request parameters, see the [Public request parameters section of the Accessing Server APIs topic](../Accessing%20Server%20APIs.mdx#public-request-parameters).

<table>
<tbody><tr data-row-level="1">
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
<tr data-row-level="3">
<td>FromUserId</td>
<td>String</td>
<td>Yes</td>
<td>The ID of the registered user for whom all friends are to be deleted.</td>
</tr>
<tr data-row-level="5">
<td>DeleteType</td>
<td>Number</td>
<td>Yes</td>
<td>The deletion type. Valid values:<ul><li>`0`: two-way deletion;</li><li>`1`: one-way deletion.</li></ul></td>
</tr>
</tbody></table>

<Note title="Note">
The \`FromUserId\` and \`UserId\` parameters can contain only digits, letters, and the following characters: '!', '#', '$', '%', '\&', '(', ')', '+', '-', ':', ';', '\<', '=', '.', '>', '?', '@', '[', ']', '\^', '_', ' ', '{', '}', '|', '~'.
</Note>


## Sample request

```json
https://zim-api.zego.im/?Action=DeletedAllFriends
&FromUserId=zego_user&DeleteType=1
&<Common request parameters>
```

## Response parameters

<table>
<tbody><tr data-row-level="1">
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
<tr data-row-level="2">
<td>Code</td>
<td>Number</td>
<td>The return code.</td>
</tr>
<tr data-row-level="3">
<td>Message</td>
<td>String</td>
<td>The description of the request result.</td>
</tr>
<tr data-row-level="4">
<td>RequestId</td>
<td>String</td>
<td>The request ID.</td>
</tr>
</tbody></table>

## Sample response

```json
{
    "Code": 0,
    "Message": "success",
    "RequestId": "343649807833778782",
}
```

## Return codes

The following table describes only the return codes related to the business logic of the operation. For the complete list of return codes, see [Return codes](../Return%20codes.mdx).

<table>
<tbody><tr>
<th>Return Code</th>
<th>Description</th>
<th>Solution</th>
</tr>
<tr>
<td>660000001</td>
<td>A common service error occurred.</td>
<td>Try again, or contact ZEGOCLOUD technical support.</td>
</tr>
<tr>
<td>660000002</td>
<td>Invalid parameter.</td>
<td>Check the input parameter.</td>
</tr>
<tr>
<td>660300005</td>
<td>The QPS limit specified in `AppID` is exceeded.</td>
<td>Try again later.</td>
</tr>
</tbody></table>
