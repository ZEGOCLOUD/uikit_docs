---
articleID: 17254
---

export const getPlatformData = (props, data) => {
  const platform = props.platform ?? "Android";
  return platform in data ? data[platform] : data["Android"]
}

export const setEventHandlerMap = {
  'Android': <a href='@setEventHandler' target='_blank'>setEventHandler</a>,
  'Web': <a href='@on' target='_blank'>on</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler-class.html' target='_blank'>ZIMEventHandler</a>,
}
export const onFriendListChangedMap = {
  'Android': <a href='@onFriendListChanged' target='_blank'>onFriendListChanged</a>,
  'Web': <a href='@friendListChanged' target='_blank'>friendListChanged</a>,
  'iOS': <a href='https://docs.zegocloud.com/article/api?doc=zim_API~objective-c_ios~protocol~ZIMEventHandler#zim-friend-list-changed-friend-info-list' target='_blank'>friendListChanged</a>,
  'mac': <a href='https://docs.zegocloud.com/article/api?doc=zim_API~objective-c_macos~protocol~ZIMEventHandler#zim-friend-list-changed-friend-info-list' target='_blank'>friendListChanged</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler/onFriendListChanged.html' target='_blank'>onFriendListChanged</a>,
}
export const onFriendApplicationListChangedMap = {
  'Android': <a href='@onFriendApplicationListChanged' target='_blank'>onFriendApplicationListChanged</a>,
  'Web': <a href='@friendApplicationListChanged' target='_blank'>friendApplicationListChanged</a>,
  'iOS': <a href='https://docs.zegocloud.com/article/api?doc=zim_API~objective-c_ios~protocol~ZIMEventHandler#zim-friend-application-list-changed-friend-application-info-list' target='_blank'>friendApplicationListChanged</a>,
  'mac': <a href='https://docs.zegocloud.com/article/api?doc=zim_API~objective-c_macos~protocol~ZIMEventHandler#zim-friend-application-list-changed-friend-application-info-list' target='_blank'>friendApplicationListChanged</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler/onFriendApplicationListChanged.html' target='_blank'>onFriendApplicationListChanged</a>,
}
export const onFriendApplicationUpdatedMap = {
  'Android': <a href='@onFriendApplicationUpdated' target='_blank'>onFriendApplicationUpdated</a>,
  'Web': <a href='@friendApplicationUpdated' target='_blank'>friendApplicationUpdated</a>,
  'iOS': <a href='https://docs.zegocloud.com/article/api?doc=zim_API~objective-c_ios~protocol~ZIMEventHandler#zim-friend-application-updated-friend-application-info-list' target='_blank'>friendApplicationUpdated</a>,
  'mac': <a href='https://docs.zegocloud.com/article/api?doc=zim_API~objective-c_macos~protocol~ZIMEventHandler#zim-friend-application-updated-friend-application-info-list' target='_blank'>friendApplicationUpdated</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler/onFriendApplicationUpdated.html' target='_blank'>onFriendApplicationUpdated</a>,
}
export const onFriendInfoUpdatedMap = {
  'Android': <a href='@onFriendInfoUpdated' target='_blank'>onFriendInfoUpdated</a>,
  'Web': <a href='@friendInfoUpdated' target='_blank'>friendInfoUpdated</a>,
  'iOS': <a href='https://docs.zegocloud.com/article/api?doc=zim_API~objective-c_ios~protocol~ZIMEventHandler#zim-friend-info-updated-friend-info-list' target='_blank'>friendInfoUpdated</a>,
  'mac': <a href='https://docs.zegocloud.com/article/api?doc=zim_API~objective-c_macos~protocol~ZIMEventHandler#zim-friend-info-updated-friend-info-list' target='_blank'>friendInfoUpdated</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler/onFriendInfoUpdated.html' target='_blank'>onFriendInfoUpdated</a>,
}
export const addFriendMap = {
  'Android': <a href='@addFriend' target='_blank'>addFriend</a>,
  'iOS': <a href='@addFriendByUserID' target='_blank'>addFriendByUserID</a>,
  'mac': <a href='@addFriendByUserID' target='_blank'>addFriendByUserID</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/addFriend.html' target='_blank'>addFriend</a>,
}
export const ZIMFriendAddedCallbackMap = {
  'Android': <a href='@-ZIMFriendAddedCallback' target='_blank'>ZIMFriendAddedCallback</a>,
  'Web': <a href='@-ZIMFriendAddedResult' target='_blank'>ZIMFriendAddedResult</a>,
  'iOS': <a href='@ZIMFriendAddedCallback' target='_blank'>ZIMFriendAddedCallback</a>,
  'mac': <a href='@ZIMFriendAddedCallback' target='_blank'>ZIMFriendAddedCallback</a>,
  'window': <a href='@ZIMFriendAddedCallback' target='_blank'>ZIMFriendAddedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendAddedResult-class.html' target='_blank'>ZIMFriendAddedResult</a>,
}
export const deleteFriendsMap = {
  'Android': <a href='@deleteFriends' target='_blank'>deleteFriends</a>,
  'iOS': <a href='@deleteFriendsByUserIDs' target='_blank'>deleteFriendsByUserIDs</a>,
  'mac': <a href='@deleteFriendsByUserIDs' target='_blank'>deleteFriendsByUserIDs</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/deleteFriends.html' target='_blank'>deleteFriends</a>,
}
export const ZIMFriendsDeletedCallbackMap = {
  'Android': <a href='@-ZIMFriendsDeletedCallback' target='_blank'>ZIMFriendsDeletedCallback</a>,
  'Web': <a href='@-ZIMFriendsDeletedResult' target='_blank'>ZIMFriendsDeletedResult</a>,
  'iOS': <a href='@ZIMFriendsDeletedCallback' target='_blank'>ZIMFriendsDeletedCallback</a>,
  'mac': <a href='@ZIMFriendsDeletedCallback' target='_blank'>ZIMFriendsDeletedCallback</a>,
  'window': <a href='@ZIMFriendsDeletedCallback' target='_blank'>ZIMFriendsDeletedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendsDeletedResult-class.html' target='_blank'>ZIMFriendsDeletedCallback</a>,
}
export const sendFriendApplicationMap = {
  'Android': <a href='@sendFriendApplication' target='_blank'>sendFriendApplication</a>,
  'iOS': <a href='@sendFriendApplicationToUserID' target='_blank'>sendFriendApplicationToUserID</a>,
  'mac': <a href='@sendFriendApplicationToUserID' target='_blank'>sendFriendApplicationToUserID</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/sendFriendApplication.html' target='_blank'>sendFriendApplication</a>,
}
export const acceptFriendApplicationMap = {
  'Android': <a href='@acceptFriendApplication' target='_blank'>acceptFriendApplication</a>,
  'iOS': <a href='@acceptFriendApplicationFromUserID' target='_blank'>acceptFriendApplicationFromUserID</a>,
  'mac': <a href='@acceptFriendApplicationFromUserID' target='_blank'>acceptFriendApplicationFromUserID</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/acceptFriendApplication.html' target='_blank'>acceptFriendApplication</a>,
}
export const ZIMFriendApplicationAcceptedCallbackMap = {
  'Android': <a href='@-ZIMFriendApplicationAcceptedCallback' target='_blank'>ZIMFriendApplicationAcceptedCallback</a>,
  'Web': <a href='@-ZIMFriendApplicationAcceptedResult' target='_blank'>ZIMFriendApplicationAcceptedResult</a>,
  'iOS': <a href='@ZIMFriendApplicationAcceptedCallback' target='_blank'>ZIMFriendApplicationAcceptedCallback</a>,
  'mac': <a href='@ZIMFriendApplicationAcceptedCallback' target='_blank'>ZIMFriendApplicationAcceptedCallback</a>,
  'window': <a href='@ZIMFriendApplicationAcceptedCallback' target='_blank'>ZIMFriendApplicationAcceptedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendApplicationSentResult-class.html' target='_blank'>ZIMFriendApplicationAcceptedResult</a>,
}
export const rejectFriendApplicationMap = {
  'Android': <a href='@rejectFriendApplication' target='_blank'>rejectFriendApplication</a>,
  'iOS': <a href='@rejectFriendApplicationFromUserID' target='_blank'>rejectFriendApplicationFromUserID</a>,
  'mac': <a href='@rejectFriendApplicationFromUserID' target='_blank'>rejectFriendApplicationFromUserID</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler/onFriendApplicationListChanged.html' target='_blank'>rejectFriendApplication</a>,
}
export const ZIMFriendApplicationRejectedCallbackMap = {
  'Android': <a href='@-ZIMFriendApplicationRejectedCallback' target='_blank'>ZIMFriendApplicationRejectedCallback</a>,
  'Web': <a href='@-ZIMFriendApplicationRejectedResult' target='_blank'>ZIMFriendApplicationRejectedResult</a>,
  'iOS': <a href='@ZIMFriendApplicationRejectedCallback' target='_blank'>ZIMFriendApplicationRejectedCallback</a>,
  'mac': <a href='@ZIMFriendApplicationRejectedCallback' target='_blank'>ZIMFriendApplicationRejectedCallback</a>,
  'window': <a href='@ZIMFriendApplicationRejectedCallback' target='_blank'>ZIMFriendApplicationRejectedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendApplicationRejectedResult-class.html' target='_blank'>ZIMFriendApplicationRejectedResult</a>,
}
export const queryFriendListMap = {
  'Android': <a href='@queryFriendList' target='_blank'>queryFriendList</a>,
  'iOS': <a href='@queryFriendListWithConfig' target='_blank'>queryFriendListWithConfig</a>,
  'mac': <a href='@queryFriendListWithConfig' target='_blank'>queryFriendListWithConfig</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/queryFriendList.html' target='_blank'>queryFriendList</a>,
}
export const ZIMFriendListQueriedCallbackMap = {
  'Android': <a href='@-ZIMFriendListQueriedCallback' target='_blank'>ZIMFriendListQueriedCallback</a>,
  'Web': <a href='@-ZIMFriendListQueriedResult' target='_blank'>ZIMFriendListQueriedResult</a>,
  'iOS': <a href='@ZIMFriendListQueriedCallback' target='_blank'>ZIMFriendListQueriedCallback</a>,
  'mac': <a href='@ZIMFriendListQueriedCallback' target='_blank'>ZIMFriendListQueriedCallback</a>,
  'window': <a href='@ZIMFriendListQueriedCallback' target='_blank'>ZIMFriendListQueriedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendListQueriedResult-class.html' target='_blank'>ZIMFriendListQueriedResult</a>,
}
export const queryFriendApplicationListMap = {
  'Android': <a href='@queryFriendApplicationList' target='_blank'>queryFriendApplicationList</a>,
  'iOS': <a href='@queryFriendApplicationListWithConfig' target='_blank'>queryFriendApplicationListWithConfig</a>,
  'mac': <a href='@queryFriendApplicationListWithConfig' target='_blank'>queryFriendApplicationListWithConfig</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/queryFriendApplicationList.html' target='_blank'>queryFriendApplicationList</a>,
}
export const ZIMFriendApplicationListQueriedCallbackMap = {
  'Android': <a href='@-ZIMFriendApplicationListQueriedCallback' target='_blank'>ZIMFriendApplicationListQueriedCallback</a>,
  'Web': <a href='@-ZIMFriendApplicationListQueriedResult' target='_blank'>ZIMFriendApplicationListQueriedResult</a>,
  'iOS': <a href='@ZIMFriendApplicationListQueriedCallback' target='_blank'>ZIMFriendApplicationListQueriedCallback</a>,
  'mac': <a href='@ZIMFriendApplicationListQueriedCallback' target='_blank'>ZIMFriendApplicationListQueriedCallback</a>,
  'window': <a href='@ZIMFriendApplicationListQueriedCallback' target='_blank'>ZIMFriendApplicationListQueriedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendApplicationListQueriedResult-class.html' target='_blank'>ZIMFriendApplicationListQueriedResult</a>,
}
export const updateFriendAliasMap = {
  'Android': <a href='@updateFriendAlias' target='_blank'>updateFriendAlias</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/updateFriendAlias.html' target='_blank'>updateFriendAlias</a>,
  
}
export const ZIMFriendAliasUpdatedCallbackMap = {
  'Android': <a href='@-ZIMFriendAliasUpdatedCallback' target='_blank'>ZIMFriendAliasUpdatedCallback</a>,
  'Web': <a href='@-ZIMFriendAliasUpdatedResult' target='_blank'>ZIMFriendAliasUpdatedResult</a>,
  'iOS': <a href='@ZIMFriendAliasUpdatedCallback' target='_blank'>ZIMFriendAliasUpdatedCallback</a>,
  'mac': <a href='@ZIMFriendAliasUpdatedCallback' target='_blank'>ZIMFriendAliasUpdatedCallback</a>,
  'window': <a href='@ZIMFriendAliasUpdatedCallback' target='_blank'>ZIMFriendAliasUpdatedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendAliasUpdatedResult-class.html' target='_blank'>ZIMFriendAliasUpdatedResult</a>,

}
export const updateFriendAttributesMap = {
  'Android': <a href='@updateFriendAttributes' target='_blank'>updateFriendAttributes</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/updateFriendAttributes.html' target='_blank'>updateFriendAttributes</a>,
}
export const ZIMFriendAttributesUpdatedCallbackMap = {
  'Android': <a href='@-ZIMFriendAttributesUpdatedCallback' target='_blank'>ZIMFriendAttributesUpdatedCallback</a>,
  'Web': <a href='@-ZIMFriendAttributesUpdatedResult' target='_blank'>ZIMFriendAttributesUpdatedResult</a>,
  'iOS': <a href='@ZIMFriendAttributesUpdatedCallback' target='_blank'>ZIMFriendAttributesUpdatedCallback</a>,
  'mac': <a href='@ZIMFriendAttributesUpdatedCallback' target='_blank'>ZIMFriendAttributesUpdatedCallback</a>,
  'window': <a href='@ZIMFriendAttributesUpdatedCallback' target='_blank'>ZIMFriendAttributesUpdatedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendAttributesUpdatedResult-class.html' target='_blank'>ZIMFriendAttributesUpdatedResult</a>,
}
export const checkFriendsRelationMap = {
  'Android': <a href='@checkFriendsRelation' target='_blank'>checkFriendsRelation</a>,
  'iOS': <a href='@checkFriendsRelationByUserIDs' target='_blank'>checkFriendsRelationByUserID</a>,
  'mac': <a href='@checkFriendsRelationByUserIDs' target='_blank'>checkFriendsRelationByUserID</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/checkFriendsRelation.html' target='_blank'>checkFriendsRelation</a>,
}
export const ZIMFriendsRelationCheckedCallbackMap = {
  'Android': <a href='@-ZIMFriendsRelationCheckedCallback' target='_blank'>ZIMFriendsRelationCheckedCallback</a>,
  'Web': <a href='@-ZIMFriendsRelationCheckedResult' target='_blank'>ZIMFriendsRelationCheckedResult</a>,
  'iOS': <a href='@ZIMFriendsRelationCheckedCallback' target='_blank'>ZIMFriendsRelationCheckedCallback</a>,
  'mac': <a href='@ZIMFriendsRelationCheckedCallback' target='_blank'>ZIMFriendsRelationCheckedCallback</a>,
  'window': <a href='@ZIMFriendsRelationCheckedCallback' target='_blank'>ZIMFriendsRelationCheckedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendAttributesUpdatedResult-class.html' target='_blank'>ZIMFriendsRelationCheckedResult</a>,
}
export const queryFriendsInfoMap = {
  'Android': <a href='@queryFriendsInfo' target='_blank'>queryFriendsInfo</a>,
  'iOS': <a href='@queryFriendsInfoByUserIDs' target='_blank'>queryFriendsInfoByUserIDs</a>,
  'mac': <a href='@queryFriendsInfoByUserIDs' target='_blank'>queryFriendsInfoByUserIDs</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/queryFriendsInfo.html' target='_blank'>queryFriendsInfo</a>,
}
export const ZIMFriendsInfoQueriedCallbackMap = {
  'Android': <a href='@-ZIMFriendsInfoQueriedCallback' target='_blank'>ZIMFriendsInfoQueriedCallback</a>,
  'Web': <a href='@-ZIMFriendsInfoQueriedResult' target='_blank'>ZIMFriendsInfoQueriedResult</a>,
  'iOS': <a href='@ZIMFriendsInfoQueriedCallback' target='_blank'>ZIMFriendsInfoQueriedCallback</a>,
  'mac': <a href='@ZIMFriendsInfoQueriedCallback' target='_blank'>ZIMFriendsInfoQueriedCallback</a>,
  'window': <a href='@ZIMFriendsInfoQueriedCallback' target='_blank'>ZIMFriendsInfoQueriedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendsInfoQueriedResult-class.html' target='_blank'>ZIMFriendsInfoQueriedResult</a>,
}
export const searchLocalFriendsMap = {
  'Android': <a href='@searchLocalFriends' target='_blank'>searchLocalFriends</a>,
  'iOS': <a href='@searchLocalFriendsWithConfig' target='_blank'>searchLocalFriendsWithConfig</a>,
  'mac': <a href='@searchLocalFriendsWithConfig' target='_blank'>searchLocalFriendsWithConfig</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/searchLocalFriends.html' target='_blank'>searchLocalFriends</a>,
}
export const ZIMFriendsSearchedCallbackMap = {
  'Android': <a href='@-ZIMFriendsSearchedCallback' target='_blank'>ZIMFriendsSearchedCallback</a>,
  'Web': <a href='@-ZIMFriendsSearchedResult' target='_blank'>ZIMFriendsSearchedResult</a>,
  'iOS': <a href='@ZIMFriendsSearchedCallback' target='_blank'>ZIMFriendsSearchedCallback</a>,
  'mac': <a href='@ZIMFriendsSearchedCallback' target='_blank'>ZIMFriendsSearchedCallback</a>,
  'window': <a href='@ZIMFriendsSearchedCallback' target='_blank'>ZIMFriendsSearchedCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendsSearchedResult-class.html' target='_blank'>ZIMFriendsSearchedResult</a>,
}
export const ZIMFriendApplicationSentCallbackMap = {
  'Android': <a href='@-ZIMFriendApplicationSentCallback' target='_blank'>ZIMFriendApplicationSentCallback</a>,
  'Web': <a href='@-ZIMFriendApplicationSentResult' target='_blank'>ZIMFriendApplicationSentResult</a>,
  'iOS': <a href='@ZIMFriendApplicationSentCallback' target='_blank'>ZIMFriendApplicationSentCallback</a>,
  'mac': <a href='@ZIMFriendApplicationSentCallback' target='_blank'>ZIMFriendApplicationSentCallback</a>,
  'window': <a href='@ZIMFriendApplicationSentCallback' target='_blank'>ZIMFriendApplicationSentCallback</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMFriendApplicationSentResult-class.html' target='_blank'>ZIMFriendApplicationSentResult</a>,
}

# Friend management

- - -

## Overview

ZIM SDK supports friend management, allowing users to directly add and delete friends, view their friends list, send friend requests to other users, accept or reject friend requests, view friend request lists, check their friend relationship with other users, and query or modify friend information.

Each user can have a maximum of 3000 friends.


## Basic functions

### Listen for friend-related callbacks


By calling the {getPlatformData(props,setEventHandlerMap)} API, you can register callbacks to listen for friend-related events, including: {getPlatformData(props,onFriendListChangedMap)}, {getPlatformData(props,onFriendApplicationListChangedMap)}, {getPlatformData(props,onFriendApplicationUpdatedMap)} and {getPlatformData(props,onFriendInfoUpdatedMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
// Friend list change callback
public void onFriendListChanged(ZIM zim, ArrayList<ZIMFriendInfo> friendInfoList,
                                    ZIMFriendListChangeAction action) {}

// Friend information change callback
public void onFriendInfoUpdated(ZIM zim, ArrayList<ZIMFriendInfo> friendInfoList) {}

// Friend application list change callback
public void
    onFriendApplicationListChanged(ZIM zim,
                                   ArrayList<ZIMFriendApplicationInfo> friendApplicationInfoList,
                                   ZIMFriendApplicationListChangeAction action) {}

// Friend application information change callback
public void
    onFriendApplicationUpdated(ZIM zim,
                               ArrayList<ZIMFriendApplicationInfo> friendApplicationInfoList) {}
```
</CodeGroup>
:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Callback for friend list changes
static void Function(ZIM zim, List<ZIMFriendInfo> friendInfoList ,ZIMFriendListChangeAction action)? onFriendListChanged;

// Callback for friend info updates
static void Function(ZIM zim, List<ZIMFriendInfo> friendInfoList)? onFriendInfoUpdated;

// Callback for friend application list changes
static void Function(ZIM zim,List<ZIMFriendApplicationInfo> friendApplicationInfoList ,ZIMFriendApplicationListChangeAction action)? onFriendApplicationListChanged;

// Callback for friend application updates
static void Function(ZIM zim,List<ZIMFriendApplicationInfo> friendApplicationInfoList)? onFriendApplicationUpdated;
```
</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Callback for friend list changes
- (void)zim:(ZIM *)zim
    friendListChanged:(NSArray<ZIMFriendInfo *> *)friendInfoList
               action:(ZIMFriendListChangeAction)action{
    // todo
}

// Callback for friend info updates
- (void)zim:(ZIM *)zim friendInfoUpdated:(NSArray<ZIMFriendInfo *> *)friendInfoList{
    // todo
}

// Callback for friend application list changes
- (void)zim:(ZIM *)zim
    friendApplicationListChanged:(NSArray<ZIMFriendApplicationInfo *> *)friendApplicationInfoList
                          action:(ZIMFriendApplicationListChangeAction)action{
    // todo
}

// Callback for friend application info updates
- (void)zim:(ZIM *)zim
    friendApplicationUpdated:(NSArray<ZIMFriendApplicationInfo *> *)friendApplicationInfoList{
    // todo
}
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Callback for friend list changes
- (void)zim:(ZIM *)zim
    friendListChanged:(NSArray<ZIMFriendInfo *> *)friendInfoList
               action:(ZIMFriendListChangeAction)action{
    // todo
}

// Callback for friend info updates
- (void)zim:(ZIM *)zim friendInfoUpdated:(NSArray<ZIMFriendInfo *> *)friendInfoList{
    // todo
}

// Callback for friend application list changes
- (void)zim:(ZIM *)zim
    friendApplicationListChanged:(NSArray<ZIMFriendApplicationInfo *> *)friendApplicationInfoList
                          action:(ZIMFriendApplicationListChangeAction)action{
    // todo
}

// Callback for friend application info updates
- (void)zim:(ZIM *)zim
    friendApplicationUpdated:(NSArray<ZIMFriendApplicationInfo *> *)friendApplicationInfoList{
    // todo
}
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Friend list changed callback
zim.on('friendListChanged', (zim, data) => {
    // todo
});

// Friend info updated callback
zim.on('friendInfoUpdated', (zim, data) => {
    // todo
});

// Friend application list changed callback
zim.on('friendApplicationListChanged', (zim, data) => {
    // todo
});

// Friend application updated callback
zim.on('friendApplicationUpdated', (zim, data) => {
    // todo
});
```
:::
:::if{props.platform="window"}
```cpp
// 注册 SDK 事件通知回调
zim->setEventHandler(shared_from_this());

...
// 好友列表变更回调
void onFriendListChanged(ZIM * /*zim*/,
                                     const std::vector<ZIMFriendInfo> & /*friendInfoList*/,
                                     ZIMFriendListChangeAction & /*action*/) {
    //todo
}

// 好友信息变更回调
void onFriendInfoUpdated(ZIM * /*zim*/,
                                     const std::vector<ZIMFriendInfo> & /*friendInfoList*/) {
    //todo
}

// 好友申请列表变更回调
void onFriendApplicationListChanged(
        ZIM * /*zim*/, const std::vector<ZIMFriendApplicationInfo> & /*friendApplicationInfoList*/,
        ZIMFriendApplicationListChangeAction & /*action*/) {
    //todo
}

// 好友申请信息变更回调
void onFriendApplicationUpdated(
        ZIM * /*zim*/,
        const std::vector<ZIMFriendApplicationInfo> & /*friendApplicationInfoList*/) {
    //todo
}
```
:::

### Add friends directly

After logging in to the ZIM SDK, users can use the {getPlatformData(props,addFriendMap)} API to directly add other users as friends without requiring their consent. This allows users to set friend remarks and attributes for the added user.

<Note title="Note">

You can set up to 5 friend attributes, and the corresponding `key` values must be k0, k1, k2, k3, and k4. It is recommended that you agree in advance on the actual meanings of each attribute and maintain consistency.
</Note>

The result of adding a friend is returned through the {getPlatformData(props,ZIMFriendAddedCallbackMap)} .

:::if{props.platform=undefined}
<CodeGroup>
```java
// Add friends directly
ZIMFriendAddConfig config = new ZIMFriendAddConfig();
config.friendAlias = "zego"
config.friendAttributes.put("k0", "v0");
config.wording = "How are you";

ZIM.getInstance().addFriend("zego", config, new ZIMFriendAddedCallback() {
    @Override
    public void onFriendAddedCallback(ZIMFriendInfo friendInfo, ZIMError zimError) {
    }
);
```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Add friend directly
try{
    ZIMFriendAddConfig config = ZIMFriendAddConfig();
    config.friendAlias = 'zego';
    config.friendAttributes['k0'] = 'v0';
    config.wording = 'Long time no see, old classmate';
    ZIMFriendAddedResult result = await ZIM.getInstance()!.addFriend("zego", config);
    // Handle success logic
} on PlatformException catch (onError){
    // Handle failure logic
    onError.code; // Handle according to the official error code table
    onError.message; // Error message
}
```

</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Add friend directly
ZIMFriendAddConfig *addConfig = [[ZIMFriendAddConfig alloc] init];
addConfig.wording = @"hello";
addConfig.friendAlias = @"Mark";
addConfig.friendAttributes = @{@"k0":@"SZ"};
[[ZIM getInstance] addFriendByUserID:@"userID" config:addConfig callback:^(ZIMFriendInfo * _Nonnull friendInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Add friend directly
ZIMFriendAddConfig *addConfig = [[ZIMFriendAddConfig alloc] init];
addConfig.wording = @"hello";
addConfig.friendAlias = @"Mark";
addConfig.friendAttributes = @{@"k0":@"SZ"};
[[ZIM getInstance] addFriendByUserID:@"userID" config:addConfig callback:^(ZIMFriendInfo * _Nonnull friendInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Add friends directly
zim.addFriend('userID', { wording: 'Hello!', friendAlias: 'Mark', friendAttributes: { k0: 'SZ' } }).then(res => {
    const friendInfo = res.friendInfo;
});
```
:::
:::if{props.platform="window"}
```cpp
// 直接添加好友
ZIMFriendAddConfig config;
config.wording = "Hello!";
config.friendAlias = "Mark";
config.friendAttributes["k0"] = "SZ";
zim::ZIM::getInstance()->addFriend("userID", config, (const zim::ZIMFriendInfo &friendInfo, const zim::ZIMError &errorInfo){
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }   
}
```
:::

After successfully adding a friend, the related users will receive the callback {getPlatformData(props,onFriendListChangedMap)} to notify them that the user has become a friend.

### Batch deleting friends

After logging in to the ZIM SDK, users can use the {getPlatformData(props,deleteFriendsMap)} API to batch delete up to 20 friends in a one-way or two-way deletion manner.

In this example, one-way deletion and two-way deletion are explained.
- One-way deletion: If user A deletes user B in a one-way manner, user B is no longer a friend of user A, but not vice versa.
- Two-way deletion: If user A deletes user B in a two-way manner, they are no longer friends with each other.

The result of deleting friends is returned through {getPlatformData(props,ZIMFriendsDeletedCallbackMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
// Batch deleting friends
// When the type is set to BOTH: Perform a two-way deletion
// When the type is set to SINGLE: Perform a one-way deletion
ZIMFriendDeleteConfig zimFriendDeleteConfig = new ZIMFriendDeleteConfig();
zimFriendDeleteConfig.type = ZIMFriendDeleteType.BOTH;    
ArrayList<String> arrayList = new ArrayList<>();
arrayList.add("zego");                
ZIM.getInstance().deleteFriends(arrayList, zimFriendDeleteConfig, new ZIMFriendsDeletedCallback() {
       @Override
       public void onFriendsDeletedCallback(ArrayList<ZIMErrorUserInfo> errorUserList, ZIMError zimError) {
             // Delete result callback.
       }
});
```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Batch delete friends
// type is both: bilateral deletion
// type is single: unilateral deletion
try{
    ZIMFriendDeleteConfig friendDeleteConfig = ZIMFriendDeleteConfig();
    friendDeleteConfig.type = ZIMFriendDeleteType.single;
    List<String> list = [];
    list.add('zego');
    ZIMFriendsDeletedResult result = await ZIM.getInstance()!.deleteFriends(list, friendDeleteConfig);
    // Handle success logic
} on PlatformException catch (onError){
    // Handle failure logic
    onError.code; // Handle according to the official error code table
    onError.message; // Error message
}
```
</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Batch delete friends
// type is ZIMFriendDeleteTypeBoth: bilateral deletion
// type is ZIMFriendDeleteTypeSingle: unilateral deletion
ZIMFriendDeleteConfig *friendDeleteConfig = [[ZIMFriendDeleteConfig alloc] init];
friendDeleteConfig.type = ZIMFriendDeleteTypeBoth;
[[ZIM getInstance] deleteFriendsByUserIDs:@[@"userID1",@"userID2"] config:friendDeleteConfig callback:^(NSArray<ZIMErrorUserInfo *> * _Nonnull errorUserList, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Batch delete friends
// type is ZIMFriendDeleteTypeBoth: bilateral deletion
// type is ZIMFriendDeleteTypeSingle: unilateral deletion
ZIMFriendDeleteConfig *friendDeleteConfig = [[ZIMFriendDeleteConfig alloc] init];
friendDeleteConfig.type = ZIMFriendDeleteTypeBoth;
[[ZIM getInstance] deleteFriendsByUserIDs:@[@"userID1",@"userID2"] config:friendDeleteConfig callback:^(NSArray<ZIMErrorUserInfo *> * _Nonnull errorUserList, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Batch delete friends
// type 0: bilateral deletion
// type 1: unilateral deletion
zim.deleteFriends(['userID1', 'userID2'], { type: 0 }).then(res => {
    const errorUserList = res.errorUserList;
})
```
:::
:::if{props.platform="window"}
```cpp
// 批量删除好友
// type 为 ZIM_FRIEND_DELETE_TYPE_BOTH：双向删除 
// type 为 ZIM_FRIEND_DELETE_TYPE_SINGLE：单向删除
zim::ZIMFriendDeleteConfig config;
config.type = ZIM_FRIEND_DELETE_TYPE_BOTH;
std::vector<std::string> userIDs;
userIDs.emplace_back("userID1");
zim::ZIM::getInstance()->deleteFriends(userIDs, config, [=](
    const std::vector<zim::ZIMErrorUserInfo>& errorUserList, const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }   
    });
```
:::

After successfully deleting a friend, depending on the deletion type, the related users will receive the callback {getPlatformData(props,onFriendListChangedMap)} to notify them that the user is no longer a friend.

### Send friend requests

After logging in to the ZIM SDK, users can use the  {getPlatformData(props,sendFriendApplicationMap)} API to send friend requests to other users and set friend remarks and attributes.

<Note title="Note">

You can set up to 5 friend attributes, and the corresponding `key` values must be k0, k1, k2, k3, and k4. It is recommended that you agree in advance on the actual meanings of each attribute and maintain consistency.
</Note>

The result of sending a friend request is returned through {getPlatformData(props,ZIMFriendApplicationSentCallbackMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
// Send friend requests
ZIMFriendApplicationSendConfig config = new ZIMFriendApplicationSendConfig();
config.friendAlias = "zego"
config.wording = "How are you";
ZIM.getInstance().sendFriendApplication("zego", config, new ZIMFriendApplicationSentCallback() {
    @Override
    public void onFriendApplicationSentCallback( ZIMFriendApplicationInfo applicationInfoList, ZIMError errorInfo) {
           // Handling friend request results
    }
});
```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Send friend application
try{
    ZIMFriendApplicationSendConfig config = ZIMFriendApplicationSendConfig();
    config.friendAlias = 'zego';
    config.wording = 'Hello old friend';
    ZIMFriendApplicationSentResult result = await ZIM.getInstance()!.sendFriendApplication('zego', config);
    // Handle success logic
} on PlatformException catch (onError){
    // Handle failure logic
    onError.code; // Handle according to the official error code table
    onError.message; // Error message
}
```
</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Send friend application
ZIMFriendApplicationSendConfig *sendConfig = [[ZIMFriendApplicationSendConfig alloc] init];
sendConfig.wording = @"Hello!";
sendConfig.friendAlias = @"Mark";
sendConfig.friendAttributes = @{@"k0":@"SZ"};
[[ZIM getInstance] sendFriendApplicationToUserID:@"userID" config:sendConfig callback:^(ZIMFriendApplicationInfo * _Nonnull applicationInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Send friend application
ZIMFriendApplicationSendConfig *sendConfig = [[ZIMFriendApplicationSendConfig alloc] init];
sendConfig.wording = @"Hello!";
sendConfig.friendAlias = @"Mark";
sendConfig.friendAttributes = @{@"k0":@"SZ"};
[[ZIM getInstance] sendFriendApplicationToUserID:@"userID" config:sendConfig callback:^(ZIMFriendApplicationInfo * _Nonnull applicationInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Receive friend application list callback
zim.on('friendApplicationListChanged', (zim, data) => {
    // action is 0: new
    const { action, applicationList } = data;
});
```

:::
:::if{props.platform="window"}
```cpp
// 发送好友申请
zim::ZIMFriendApplicationSendConfig config;
config.friendAlias = "Mark";
config.friendAttributes["k0"] = "SZ";
zim::ZIM::getInstance()->sendFriendApplication("userID", config, [=](const zim::ZIMFriendApplicationInfo& applicationInfo, const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }   
    });
```
:::

The target user will receive the {getPlatformData(props,onFriendApplicationListChangedMap)} callback, indicating that a user has requested to become friends. The user can choose to <a href="#send-friend-requests"> accept </a> or <a href="#reject-friend-requests"> reject </a> the request within 7 days.

<Note title="Note">
If you need to adjust the friend application validity period, please contact the ZEGOCLOUD technical support team.
</Note>

:::if{props.platform=undefined}
<CodeGroup>
```java
// Received friend request list callback
public void onFriendApplicationListChanged(ZIM zim,
                                   ArrayList<ZIMFriendApplicationInfo> friendApplicationInfoList, ZIMFriendApplicationListChangeAction action) {

}
```
</CodeGroup>

:::

### Accept friend requests

After logging in to ZIM SDK, users can call the {getPlatformData(props,acceptFriendApplicationMap)} API, passing the ID of the user who initiated the request, to accept a friend request.

The result of accepting a friend request is returned through {getPlatformData(props,ZIMFriendApplicationAcceptedCallbackMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
// Accept friend requests
ZIMFriendApplicationAcceptConfig config = new ZIMFriendApplicationAcceptConfig();
config.friendAlias = "zego";
config.friendAttributes = new 
ZIM.getInstance().acceptFriendApplication("zego", config, new ZIMFriendApplicationAcceptedCallback() {
    @Override
    public void onFriendApplicationAccepted(ZIMFriendInfo friendInfo, ZIMError zimError) {
                                       
   }
});
```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Accept friend application
try{
    ZIMFriendApplicationAcceptConfig acceptConfig = ZIMFriendApplicationAcceptConfig();
    acceptConfig.friendAlias = 'Mark';
    acceptConfig.friendAttributes = {'k0':'SZ'};    
    ZIMFriendApplicationAcceptedResult result = await ZIM.getInstance()!.acceptFriendApplication('zego', config);
    // Handle success logic
} on PlatformException catch (onError){
    // Handle failure logic
    onError.code; // Handle according to the official error code document
    onError.message; // Error message
}
```
</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Accept friend application
ZIMFriendApplicationAcceptConfig *acceptConfig = [[ ZIMFriendApplicationAcceptConfig alloc] init];
acceptConfig.friendAlias = @"Mark";
acceptConfig.friendAttributes = @{@"k0":@"SZ"};
[[ZIM getInstance] acceptFriendApplicationFromUserID:@"userID" config:acceptConfig callback:^(ZIMFriendInfo * _Nonnull friendInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Accept friend application
ZIMFriendApplicationAcceptConfig *acceptConfig = [[ ZIMFriendApplicationAcceptConfig alloc] init];
acceptConfig.friendAlias = @"Mark";
acceptConfig.friendAttributes = @{@"k0":@"SZ"};
[[ZIM getInstance] acceptFriendApplicationFromUserID:@"userID" config:acceptConfig callback:^(ZIMFriendInfo * _Nonnull friendInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Accept friend application
zim.acceptFriendApplication('userID', { friendAlias: 'Mark', friendAttributes: { k0: 'SZ' } }).then(res => {
    const friendInfo = res.friendInfo;
})
```
:::
:::if{props.platform="window"}

```cpp
// 同意好友申请
zim::ZIMFriendApplicationAcceptConfig config;
config.friendAlias = "Mark";
config.friendAttributes["k0"] = "SZ";
zim::ZIM::getInstance()->acceptFriendApplication("userID", config, [=](const zim::ZIMFriendInfo& friendInfo, const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }  
```
:::

Both the requesting user and the requested user will not only receive the {getPlatformData(props,onFriendApplicationUpdatedMap)} to know that the other user has become their friend.



### Reject friend requests

After logging in to ZIM SDK, users can reject friend requests by using the {getPlatformData(props,rejectFriendApplicationMap)} API.

The result of rejecting a friend request is returned through {getPlatformData(props,ZIMFriendApplicationRejectedCallbackMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
// Reject friend requests
ZIMFriendApplicationRejectConfig config = new ZIMFriendApplicationRejectConfig();
ZIM.getInstance().rejectFriendApplication("zego", config, new ZIMFriendApplicationRejectedCallback() {
    @Override
    public void onFriendApplicationRejected(ZIMUserInfo zimUserInfo, ZIMError zimError) {
          // Rejecting friend request result                  
    }
});
```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Reject friend application
try{
    ZIMFriendApplicationRejectConfig config = ZIMFriendApplicationRejectConfig();
    ZIMFriendApplicationRejectedResult result = await ZIM.getInstance()!.rejectFriendApplication('zego', config);
    // Handle success logic
} on PlatformException catch (onError){
    // Handle failure logic
    onError.code; // Handle according to the official error code table
    onError.message; // Error message
}
```

</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Reject friend application
ZIMFriendApplicationRejectConfig *rejectConfig = [[ZIMFriendApplicationRejectConfig alloc] init];
[[ZIM getInstance] rejectFriendApplicationFromUserID:@"userID" config:rejectConfig callback:^(ZIMUserInfo * _Nonnull userInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Reject friend application
ZIMFriendApplicationRejectConfig *rejectConfig = [[ZIMFriendApplicationRejectConfig alloc] init];
[[ZIM getInstance] rejectFriendApplicationFromUserID:@"userID" config:rejectConfig callback:^(ZIMUserInfo * _Nonnull userInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Reject friend application
zim.rejectFriendApplication('userID', {} }).then(res => {
    const userInfo = res.userInfo;
})
```
:::
:::if{props.platform="window"}
```cpp
// 拒绝好友申请
zim::ZIMFriendApplicationRejectConfig config;
zim::ZIM::getInstance()->rejectFriendApplication("userID", config, [=](const zim::ZIMUserInfo& userInfo, const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }  
    });
```
:::

Both the requesting user and the requested user will receive the {getPlatformData(props,onFriendApplicationUpdatedMap)} callback to know that the application has been rejected.

### Query friend list
After logging in to the ZIM SDK, users can use the {getPlatformData(props,queryFriendListMap)} API to retrieve the paginated complete friends list.

The query results are returned through {getPlatformData(props,ZIMFriendListQueriedCallbackMap)}, and the returned friends list is sorted in descending order based on the time of friend relationship creation.

:::if{props.platform=undefined}
<CodeGroup>
```java
// Query Friends List
ZIMFriendListQueryConfig config = new ZIMFriendListQueryConfig();
config.count = 3000;
config.nextFlag = 0;
ZIM.getInstance().queryFriendList(config, new ZIMFriendListQueriedCallback() {
            @Override
            public void onFriendListQueried(ArrayList<ZIMFriendInfo> friendList, int nextFlag, ZIMError errorInfo) {
                
}
});
```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Query friend information list
try{
    ZIMFriendListQueryConfig config = ZIMFriendListQueryConfig();
    config.count = 3000;
    config.nextFlag = 0;
    ZIMFriendListQueriedResult result = await ZIM.getInstance()!.queryFriendList(config);
    // Handle success logic
} on PlatformException catch (onError){
    // Handle failure logic
    onError.code; // Handle according to the official error code table
    onError.message; // Error message
}
```
</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Query the list of friend information
ZIMFriendListQueryConfig *queryConfig = [[ ZIMFriendListQueryConfig alloc] init];
queryConfig.count = 100;
queryConfig.nextFlag = 0;
[[ZIM getInstance] queryFriendListWithConfig:queryConfig callback:^(NSArray<ZIMFriendInfo *> * _Nonnull friendList, unsigned int nextFlag, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Query the list of friend information
ZIMFriendListQueryConfig *queryConfig = [[ ZIMFriendListQueryConfig alloc] init];
queryConfig.count = 100;
queryConfig.nextFlag = 0;
[[ZIM getInstance] queryFriendListWithConfig:queryConfig callback:^(NSArray<ZIMFriendInfo *> * _Nonnull friendList, unsigned int nextFlag, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Query friend information list
zim.queryFriendList({ count: 100, nextFlag: 0 }).then(res => {
    const { friendList, nextFlag } = res;
});
```
:::
:::if{props.platform="window"}
```cpp
// 查询好友信息列表
zim::ZIMFriendListQueryConfig config;
config.count = 100;
config.nextFlag = 0;
zim::ZIM::getInstance()->queryFriendList(config, [=](const std::vector<zim::ZIMFriendInfo>& friendList, unsigned int nextFlag,
    const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }  
    });
```
:::

### Query friend request list

After logging in to the ZIM SDK, users can use the {getPlatformData(props,queryFriendApplicationListMap)} API to retrieve the friend request list and understand the status of each request. The friend request list includes both the requests initiated by the user to other users and the requests initiated by other users to the user.
The query results are returned through {getPlatformData(props,ZIMFriendApplicationListQueriedCallbackMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
// Query friend application information list
ZIMFriendApplicationListQueryConfig config = new ZIMFriendApplicationListQueryConfig();
config.count = 3000;
config.nextFlag = 0;
ZIM.getInstance().queryFriendApplicationList(config, new ZIMFriendApplicationListQueriedCallback() {
    @Override
    public void onFriendApplicationListQueried(ArrayList<ZIMFriendApplicationInfo> applicationList, int nextFlag, ZIMError errorInfo) {                                                                                                            
    }                                                
});
```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Query friend application information list
try {
    ZIMFriendApplicationListQueryConfig config = ZIMFriendApplicationListQueryConfig();
    config.count = 3000;
    config.nextFlag = 0;
    ZIMFriendApplicationListQueriedResult result = await ZIM.getInstance()!.queryFriendApplicationList(config);
    // Handle success logic
} on PlatformException catch (onError) {
    // Handle failure logic
    onError.code; // Handle according to the official error code table
    onError.message; // Error message
}
```
</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Query friend application information list
ZIMFriendApplicationListQueryConfig *queryConfig = [[ZIMFriendApplicationListQueryConfig alloc] init];
queryConfig.count = 100;
queryConfig.nextFlag = 0;
[[ZIM getInstance] queryFriendApplicationListWithConfig:queryConfig callback:^(NSArray<ZIMFriendApplicationInfo *> * _Nonnull applicationList, unsigned int nextFlag, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Query friend application information list
ZIMFriendApplicationListQueryConfig *queryConfig = [[ZIMFriendApplicationListQueryConfig alloc] init];
queryConfig.count = 100;
queryConfig.nextFlag = 0;
[[ZIM getInstance] queryFriendApplicationListWithConfig:queryConfig callback:^(NSArray<ZIMFriendApplicationInfo *> * _Nonnull applicationList, unsigned int nextFlag, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Query friend application information list
zim.queryFriendApplicationList({ count: 100, nextFlag: 0 }).then(res => {
    const { applicationList, nextFlag } = res;
});
```
:::
:::if{props.platform="window"}
```cpp
// 查询好友申请信息列表
zim::ZIMFriendApplicationListQueryConfig config;
config.count = 100;
config.nextFlag = 0;
zim::ZIM::getInstance()->queryFriendApplicationList(config, [=](const std::vector<zim::ZIMFriendApplicationInfo>& applicationList,
    unsigned int nextFlag, const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }  
    });
```
:::

## More functions

### Update friend alias


After logging in to the ZIM SDK, users can update the alias they have for a friend using the {getPlatformData(props,updateFriendAliasMap)} API.

The result of the update is returned through {getPlatformData(props,ZIMFriendAliasUpdatedCallbackMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
// Update friend alias
ZIM.getInstance().updateFriendAlias("Classmate A", "zego", new ZIMFriendAliasUpdatedCallback() {
    @Override
    public void onFriendAliasUpdated(ZIMFriendInfo friendInfo, ZIMError zimError) {

    }
});
```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Update friend alias
try {
    ZIMFriendAliasUpdatedResult result = await ZIM.getInstance()!.updateFriendAlias('A同学', 'zego');
    // Handle success logic
} on PlatformException catch (onError) {
    // Handle failure logic
    onError.code; // Handle according to the official error code table
    onError.message; // Error message
}
```

</CodeGroup>
:::

:::if{props.platform="iOS"}
```objc
// Update friend alias
[[ZIM getInstance] updateFriendAlias:@"New Alias" userID:@"userID" callback:^(ZIMFriendInfo * _Nonnull friendInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
:::
:::if{props.platform="mac"}
```objc
// Update friend alias
[[ZIM getInstance] updateFriendAlias:@"New Alias" userID:@"userID" callback:^(ZIMFriendInfo * _Nonnull friendInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
:::

:::if{props.platform="Web"}
```javascript
// Update friend remark
zim.updateFriendAlias('New remark', 'userID' }).then(res => {
    const friendInfo = res.friendInfo;
});
```
:::
:::if{props.platform="window"}
```cpp
// 更新好友备注
zim::ZIM::getInstance()->updateFriendAlias("新备注", "userID", [=](const zim::ZIMFriendInfo& friendInfo, const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }  
    });
```
:::

After a successful update, the user can receive the {getPlatformData(props,onFriendInfoUpdatedMap)} callback to know that the friend's information has been updated.

### Update friend attributes

After logging in to the ZIM SDK, users can update friend attributes using the {getPlatformData(props,updateFriendAttributesMap)} API.

<Note title="Note">

You can set up to 5 friend attributes, and the corresponding `key` values must be k0, k1, k2, k3, and k4. It is recommended that you agree in advance on the actual meanings of each attribute and maintain consistency.
</Note>

The result of updating friend attributes is returned through {getPlatformData(props,ZIMFriendAttributesUpdatedCallbackMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
HashMap<String, String> friendAttributes = new HashMap<String, String>();
friendAttributes.put("k0","v0");
// Update friend attributes
zim.updateFriendAttributes(friendAttributes, "zego", new ZIMFriendAttributesUpdatedCallback(){
    
     public void onFriendAttributesUpdated(ZIMFriendInfo friendInfo, ZIMError errorInfo)   {
                   
     }
});

```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Update friend attributes
zim.updateFriendAttributes({ k1: 'v1', k2: 'v2' } , 'userID' }).then(res => {
    const friendInfo = res.friendInfo;
});
```

</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Update friend attributes
[[ZIM getInstance] updateFriendAttributes:@{@"k1":@"v1",@"k2":@"v2"} userID:@"userID" callback:^(ZIMFriendInfo * _Nonnull friendInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Update friend attributes
[[ZIM getInstance] updateFriendAttributes:@{@"k1":@"v1",@"k2":@"v2"} userID:@"userID" callback:^(ZIMFriendInfo * _Nonnull friendInfo, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Update friend attributes
zim.updateFriendAttributes({ k1: 'v1', k2: 'v2' } , 'userID' }).then(res => {
    const friendInfo = res.friendInfo;
});
```
:::
:::if{props.platform="window"}
```cpp
// 更新好友属性
std::unordered_map<std::string, std::string> friendAttributes;
friendAttributes["k1"] = "v1";
friendAttributes["k2"] = "v2";
zim::ZIM::getInstance()->updateFriendAttributes(friendAttributes, "userID", [=](const zim::ZIMFriendInfo& friendInfo, const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }  
    });
```
:::

After logging in to the ZIM SDK, users can update friend attributes using the {getPlatformData(props,onFriendInfoUpdatedMap)} API.

### Check friend relationships

After logging in to the ZIM SDK, users can use the {getPlatformData(props,checkFriendsRelationMap)} API to batch check their friend relationships with up to 20 other users.

ZEGOCLOUD allows one-way or two-way check of friendships. In this example, the friendship between users A and B is checked.

- One-way check: Only checks whether user B is in the friend list of user A.
- Two-way check: Checks whether users A and B are in the friend list of the other.


The result of checking friend relationships is returned through {getPlatformData(props,ZIMFriendsRelationCheckedCallbackMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
// Check friend relationships with other users
// When the type is set to BOTH: Perform a two-way check
// When the type is set to SINGLE: Perform a one-way check
ArrayList<String> userIDs = new ArrayList<>();
userIDs.add("zego");
ZIMFriendRelationCheckConfig config = new ZIMFriendRelationCheckConfig();
config.type = ZIMFriendRelationCheckType.BOTH;
ZIM.getInstance().checkFriendsRelation(userIDs, config, new ZIMFriendsRelationCheckedCallback() {
    @Override
    public void onFriendsChecked(ArrayList<ZIMFriendRelationInfo> relationInfos, ArrayList<ZIMErrorUserInfo> errorUserList, ZIMError errorInfo) {
                                                                
   }
});
```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Check friend relationship with other users
// type is both: bidirectional
// type is single: unidirectional
try {
    ZIMFriendAttributesUpdatedResult result = await ZIM.getInstance()!.updateFriendAttributes(
        {'k1':'v1','k2':'v2'}, 'zego');
    // Handle success logic
} on PlatformException catch (onError) {
    // Handle failure logic
    onError.code; // Handle according to the official error code table
    onError.message; // Error message
}
```
</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Check friend relationship with other users
// type is ZIMFriendRelationCheckTypeBoth: bidirectional
// type is ZIMFriendRelationCheckTypeSingle: unidirectional
ZIMFriendRelationCheckConfig *checkConfig = [[ZIMFriendRelationCheckConfig alloc] init];
checkConfig.type = ZIMFriendRelationCheckTypeSingle;
[[ZIM getInstance] checkFriendsRelationByUserIDs:@[@"userID1",@"userID2"] config:checkConfig callback:^(NSArray<ZIMFriendRelationInfo *> * _Nonnull relationInfos, NSArray<ZIMErrorUserInfo *> * _Nonnull errorUserList, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Check friend relationship with other users
// type is ZIMFriendRelationCheckTypeBoth: bidirectional
// type is ZIMFriendRelationCheckTypeSingle: unidirectional
ZIMFriendRelationCheckConfig *checkConfig = [[ZIMFriendRelationCheckConfig alloc] init];
checkConfig.type = ZIMFriendRelationCheckTypeSingle;
[[ZIM getInstance] checkFriendsRelationByUserIDs:@[@"userID1",@"userID2"] config:checkConfig callback:^(NSArray<ZIMFriendRelationInfo *> * _Nonnull relationInfos, NSArray<ZIMErrorUserInfo *> * _Nonnull errorUserList, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Check friend relationship with other users
// type is 0: bidirectional
// type is 1: unidirectional
zim.checkFriendsRelation(['userID1', 'userID2'], { type: 0 } }).then(res => {
    const { relationInfos, errorUserList } = res;
})
```
:::
:::if{props.platform="window"}
```cpp
// 检查与其他用户的好友关系
// type 为 ZIM_FRIEND_RELATION_CHECK_TYPE_BOTH：双向 
// type 为 ZIM_FRIEND_RELATION_CHECK_TYPE_SINGLE：单向
std::vector<std::string> userIDs;
userIDs.emplace_back("userID1");
zim::ZIMFriendRelationCheckConfig config;
config.type = ZIM_FRIEND_RELATION_CHECK_TYPE_BOTH;
zim::ZIM::getInstance()->checkFriendsRelation(userIDs, config, [=](
    const std::vector<zim::ZIMFriendRelationInfo>& relationInfos,
    const std::vector<zim::ZIMErrorUserInfo>& errorUserList, const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }  
    });
```
:::

### Batch query friend information


After logging in to the ZIM SDK, users can use the {getPlatformData(props,queryFriendsInfoMap)} API to batch query information for up to 20 friends.


The result of batch querying friend information is returned through {getPlatformData(props,ZIMFriendsInfoQueriedCallbackMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
// Batch query friend information
ArrayList<String> userIDs = new ArrayList<>();
userIDs.add("zego");
ZIM.getInstance().queryFriendsInfo(userIDs, new ZIMFriendsInfoQueriedCallback() {
    @Override
    public void onFriendsInfoQueried(ArrayList<ZIMFriendInfo> friendInfos, ArrayList<ZIMErrorUserInfo> errorUserList, ZIMError errorInfo) {

    }
});
```
</CodeGroup>

:::
:::if{props.platform="Flutter"}
<CodeGroup>
```dart
// Batch query friends info
try {
    List<String> userIDs = ['zego'];
    userIDs.add('zego');
    ZIMFriendsInfoQueriedResult result = await ZIM.getInstance()!.queryFriendsInfo(userIDs);
    // Handle success logic
} on PlatformException catch (onError) {
    // Handle failure logic
    onError.code; // Handle according to the official error code table
    onError.message; // Error message
}
```
</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
// Query friend information in batch
[[ZIM getInstance] queryFriendsInfoByUserIDs:@[@"userID1",@"userID2"] callback:^(NSArray<ZIMFriendInfo *> * _Nonnull friendInfos, NSArray<ZIMErrorUserInfo *> * _Nonnull errorUserList, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
// Query friend information in batch
[[ZIM getInstance] queryFriendsInfoByUserIDs:@[@"userID1",@"userID2"] callback:^(NSArray<ZIMFriendInfo *> * _Nonnull friendInfos, NSArray<ZIMErrorUserInfo *> * _Nonnull errorUserList, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
// Batch query friend information
zim.queryFriendsInfo(['userID1', 'userID2']).then(res => {
    const { friendInfos, errorUserList } = res;
});
```
:::
:::if{props.platform="window"}
```cpp
// 批量查询好友信息
std::vector<std::string> userIDs;
userIDs.emplace_back("userID1");
zim::ZIM::getInstance()->queryFriendsInfo(userIDs, [=](
    const std::vector<zim::ZIMFriendInfo>& friendInfos,
    const std::vector<zim::ZIMErrorUserInfo>& errorUserList, const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }  
    });
```
:::

### Search for friends

After logging in to the ZIM SDK, users can use the {getPlatformData(props,searchLocalFriendsMap)} API to search for friends based on their usernames and aliases. Users can provide up to 5 keywords to search for friends who match all the provided keywords.

The search results are returned through {getPlatformData(props,ZIMFriendsSearchedCallbackMap)}.

:::if{props.platform=undefined}
<CodeGroup>
```java
ZIMFriendSearchConfig config = new ZIMFriendSearchConfig();
config.count = 100;
config.nextFlag = 0;
config.isAlsoMatchFriendAlias = true;
config.keywords.add("zego");
ZIM.getInstance().searchLocalFriends(config, new ZIMFriendsSearchedCallback() {
    @Override
    public void onFriendsSearched(ArrayList<ZIMFriendInfo> friendInfos, int nextFlag, ZIMError errorInfo) 
    {           
    }
});
```
</CodeGroup>

:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart
try {
    ZIMFriendSearchConfig config = ZIMFriendSearchConfig();
    config.count = 100;
    config.nextFlag = 0;
    config.isAlsoMatchFriendAlias = true;
    config.keywords.add('zego');
    ZIMFriendsSearchedResult result = await ZIM.getInstance()!.searchLocalFriends(config);
    // Handle success logic
} on PlatformException catch (onError) {
    // Handle failure logic
    onError.code; // Handle according to the official error code table
    onError.message; // Error message
}
```
</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc
ZIMFriendSearchConfig *searchConfig = [[ZIMFriendSearchConfig alloc] init];
searchConfig.count = 100;
searchConfig.keywords = @[@"a",@"b"];
searchConfig.isAlsoMatchFriendAlias = YES;
searchConfig.nextFlag = 0;
[[ZIM getInstance] searchLocalFriendsWithConfig:searchConfig callback:^(NSArray<ZIMFriendInfo *> * _Nonnull friendInfos, unsigned int nextFlag, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::
:::if{props.platform="mac"}
<CodeGroup>
```objc
ZIMFriendSearchConfig *searchConfig = [[ZIMFriendSearchConfig alloc] init];
searchConfig.count = 100;
searchConfig.keywords = @[@"a",@"b"];
searchConfig.isAlsoMatchFriendAlias = YES;
searchConfig.nextFlag = 0;
[[ZIM getInstance] searchLocalFriendsWithConfig:searchConfig callback:^(NSArray<ZIMFriendInfo *> * _Nonnull friendInfos, unsigned int nextFlag, ZIMError * _Nonnull errorInfo) {
    
}];
```
</CodeGroup>
:::

:::if{props.platform="Web"}
```javascript
zim.searchLocalFriends({ keywords: ['a', 'b'], isAlsoMatchFriendAlias: true, count: 100, nextFlag: 0 }).then(res => {
    // todo
});
```
:::
:::if{props.platform="window"}
```cpp
ZIMFriendSearchConfig config;
config.count = 100;
config.isAlsoMatchFriendAlias = true;
config.nextFlag = 0;
config.keywords.emplace_back("a");
config.keywords.emplace_back("b");
zim::ZIM::getInstance()->searchLocalFriends(config, [=](const std::vector<zim::ZIMFriendInfo>& friendInfos, unsigned int nextFlag,
    const zim::ZIMError& errorInfo) {
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        // ......
    } else {
        // ......
    }  
    });
```
:::